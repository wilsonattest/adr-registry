<div class="repository-page">
    <nav class="breadcrumb">
        <a href="{{ base_url }}/">Home</a> /
        <a href="{{ base_url }}/repos/">Repositories</a> /
        <span>{{ repository.name }}</span>
    </nav>

    <header class="repo-header">
        <h1>{{ repository.name }}</h1>
        <p class="lead">{{ repository.adrs.size }} Architecture Decision Records</p>
        <a href="{{ repository.github_url }}" class="btn btn-secondary" target="_blank" rel="noopener">
            View on GitHub
        </a>
    </header>

    <section class="section">
        <h2>ADR Status</h2>
        <div class="stats-grid stats-small">
            {{ for status in status_counts }}
            <div class="stat-card stat-{{ status.key | string.downcase }}">
                <div class="stat-value">{{ status.value }}</div>
                <div class="stat-label">{{ status.key }}</div>
            </div>
            {{ end }}
        </div>
    </section>

    <section class="section">
        <h2>Decisions</h2>
        <div class="adr-list">
            {{ for adr in repository.adrs }}
            <article class="adr-card">
                <div class="adr-header">
                    <span class="badge badge-{{ adr.status | string.downcase }}">{{ adr.status }}</span>
                    {{ if adr.date }}
                    <span class="adr-date">{{ adr.date | date.to_string '%Y-%m-%d' }}</span>
                    {{ end }}
                </div>
                <h3 class="adr-title">
                    <a href="{{ base_url }}/adr/{{ adr.id }}.html">ADR-{{ adr.number }}: {{ adr.title }}</a>
                </h3>
                {{ if adr.context }}
                <p class="adr-excerpt">{{ adr.context | string.truncate 200 }}</p>
                {{ end }}
            </article>
            {{ end }}
        </div>
    </section>
</div>
